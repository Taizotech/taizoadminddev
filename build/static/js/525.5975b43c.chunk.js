"use strict";(self.webpackChunkadmin_login_react=self.webpackChunkadmin_login_react||[]).push([[525,493],{4525:(e,t,n)=>{n.r(t),n.d(t,{default:()=>z});var a=n(68745),s=n(90618),l=n(39281),i=n(79836),o=n(56890),r=n(35855),c=n(53382),d=n(36314),m=n(57246),u=n(72791),p=n(28789),h=n(12105),x=n(78820),y=n(71185),j=n(93006),g=n(68096),f=n(65117),b=n(64387),N=n(15770),v=n(31711),C=n(20751),S=n(59434),Z=n(44470),F=n(7692),k=n(35019),T=n(80184);const D=function(){const e=(0,S.v9)((e=>e.EmployerRegisterDetails.EmployerRegisterFilter)),t=(0,S.v9)((e=>e.EmployerRegisterDetails.refreshRedDot)),n=(0,S.v9)((e=>e.EmployerRegisterDetails.EmployerRegisterFilter.size)),a=(0,S.v9)((e=>e.EmployerRegisterDetails.EmployerRegisterFilter.createdTime)),s=(0,S.v9)((e=>e.EmployerRegisterDetails.EmployerRegisterFilter.endDate)),[l,i]=(0,u.useState)(!1),[o,r]=(0,u.useState)(!1),c={companyName:e.companyName,contactNumber:e.contactNumber,industry:e.industry,city:e.city,area:e.area,createdTime:e.createdTime,endDate:e.endDate},[d,m]=(0,u.useState)(c),p=(0,S.I0)(),[D,w]=(0,u.useState)({city:[],area:[],industry:[]}),[E,R]=(0,u.useState)({start:e.createdTime,end:e.endDate,dateFilterType:e.dateFilterType}),[I,_]=(0,u.useState)(!1),[q,P]=(0,u.useState)({start:!1,end:!1}),[z,W]=u.useState(null),L=Boolean(z),O=e=>{let t=e;const n=new Date;let a=new Date;if("lastWeek"===t){const e=new Date;e.setDate(n.getDate()-7),R((t=>({...t,dateFilterType:"Last 1 Week",start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),W(null)}else if("today"===t)R((e=>({...e,dateFilterType:"Today",start:n.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),W(null);else if("lastMonth"===t){const e=new Date;e.setMonth(e.getMonth()-1),R((t=>({...t,dateFilterType:"Last Month",start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),W(null)}else if("lastTwoWeeks"===t){const e=new Date(n);e.setDate(n.getDate()-13),R((t=>({...t,dateFilterType:"Last 2 Week",start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),W(null)}else"custom"===t&&(_(!0),W(null))};function A(e,t){const n=e.target.value;"startDate"===t?(R((e=>({...e,start:n,dateFilterType:"custom"}))),P((e=>({...e,start:!1})))):(R((e=>({...e,end:n,dateFilterType:"custom"}))),P((e=>({...e,end:!1}))))}(0,u.useEffect)((()=>{console.log(d)}),[d]),(0,u.useEffect)((()=>{(0,k.aUE)().then((e=>{const t=e.filter((e=>"industry"==e.category)),n=e.filter((e=>"city"===e.category)),a=e.filter((e=>"areas"===e.category));w((e=>({...e,city:n,area:a,industry:t}))),console.log(t)}))}),[]);const M=e=>{console.log(e,"jhjhjkhjh"),m({...d,area:e})},Q=e=>{console.log(e,"jhjhjkhjh"),m({...d,city:e.options})},B=e=>{console.log(e,"jhjhjkhjh"),m({...d,industry:e.options})};function H(e,t){switch(e){case"contactNumber":(0,C.UF)(t)&&m({...d,[e]:t});break;case"companyName":m({...d,[e]:t})}}return(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"d-flex justify-content-end",children:(0,T.jsxs)("button",{className:"rounded-pill d-flex align-items-center ".concat(h.Z.Filterbutton),variant:"contained",onClick:()=>i(!0),children:[(0,T.jsx)(F.Ol$,{})," ",(0,T.jsx)("p",{style:{backgroundColor:t?"red":"transparent",width:"8px",height:"8px",borderRadius:"50%"}})," ","Filter"]})}),l&&(0,T.jsx)(C.Xf,{children:(0,T.jsx)(v.Z,{zIndex:1001,childComponent:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,T.jsx)("h4",{className:"text-center mb-2",children:"Filter by"}),(0,T.jsx)("h3",{children:(0,T.jsx)("span",{onClick:function(e){e.preventDefault(),p(y.qE.setEmployerRegisterFilter({...d,page:1,size:n,createdTime:a,endDate:s,dateFilterType:E.dateFilterType})),i(!1)},className:"btn btn-outline-danger",style:{cursor:"pointer",fontSize:15},children:(0,T.jsx)(x.oHP,{})})})]}),(0,T.jsx)("div",{className:"".concat(h.Z.BoxContainerWidth),children:(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("form",{onSubmit:e=>{(e=>{e.preventDefault(),p(y.qE.setEmployerRegisterFilter({...d,createdTime:E.start||a,endDate:E.end||s,page:1,size:n,dateFilterType:E.dateFilterType||""}));const t=d.area||d.city||d.companyName||d.contactNumber||d.industry||E.start||E.end;p(y.qE.setEmployerRegisterRedDot(t)),i(!1)})(e)},children:(0,T.jsxs)(Z.Z,{className:"mt-1",children:[(0,T.jsxs)("div",{className:"row",children:[(0,T.jsx)("div",{className:"col-sm-4 mt-3",children:(0,T.jsx)(j.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:d.contactNumber,onChange:e=>H("contactNumber",e.target.value),inputProps:{maxLength:10},InputProps:{startAdornment:(0,T.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,T.jsx)(x.Nhm,{style:{marginRight:"5px"}})," ","+91"]})}})}),(0,T.jsxs)("div",{className:"col-sm-4 mt-3",children:[(0,T.jsxs)(g.Z,{variant:"outlined",fullWidth:!0,children:[(0,T.jsx)(j.Z,{label:"Created on",id:"basic-button",value:"".concat(E.dateFilterType),"aria-controls":L?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":L?"true":void 0,onClick:e=>{W(e.currentTarget)}}),(0,T.jsxs)(f.Z,{id:"basic-menu",anchorEl:z,open:L,onClose:e=>{console.log(e),W(null)},fullWidth:!0,MenuListProps:{"aria-labelledby":"basic-button"},style:{width:"100%"},children:[(0,T.jsx)(b.Z,{onClick:()=>{O("today")},style:{width:"250px"},children:"Today"}),(0,T.jsx)(b.Z,{onClick:()=>{O("lastWeek")},children:"Last 1 Week"}),(0,T.jsx)(b.Z,{onClick:()=>{O("lastTwoWeeks")},children:"Last 2 Week"}),(0,T.jsx)(b.Z,{onClick:()=>{O("lastMonth")},children:"Last Month"}),(0,T.jsx)(b.Z,{onClick:()=>{O("custom")},children:"Custom Date"})]})]}),I&&(0,T.jsx)(C.Xf,{children:(0,T.jsx)(v.Z,{zIndex:1005,childComponent:(0,T.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{children:(0,T.jsxs)("form",{children:[(0,T.jsxs)("p",{className:"text-center ",children:["Select Custom Date"," "]}),(0,T.jsxs)("div",{className:"mt-2",children:[(0,T.jsx)("label",{htmlFor:"start",children:"From"}),(0,T.jsx)("input",{className:"form-control ".concat(q.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>A(e,"startDate"),value:E.start,name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),q.start&&(0,T.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,T.jsxs)("div",{className:"mt-2",children:[(0,T.jsx)("label",{htmlFor:"end",children:"To"}),(0,T.jsx)("input",{className:"form-control ".concat(q.end?"is-invalid":""),value:E.end,style:{width:"100%"},type:"date",id:"end",onChange:e=>A(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),q.end&&(0,T.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,T.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,T.jsx)("button",{onClick:()=>{P({start:!1,end:!1}),_(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,T.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=E.start&&E.end;return E.start||P((e=>({...e,start:!0}))),E.end||P((e=>({...e,end:!0}))),e})()&&(console.log("Form submitted:",E),P({start:!1,end:!1}),_(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]}),(0,T.jsx)("div",{className:"col-sm-4 mt-3",children:(0,T.jsx)(j.Z,{fullWidth:!0,label:"Company Name",name:"companyName",placeholder:"Company Name",value:d.companyName,onChange:e=>H("companyName",e.target.value)})})]}),(0,T.jsxs)("div",{className:"row",children:[(0,T.jsx)("div",{className:"col-sm-4 mt-3",children:(0,T.jsx)(N.Z,{name:"industries",id:"tags-outlined",onChange:(e,t,n)=>{"clear"===n?(console.log("Selection cleared"),B("")):(B(t),console.log(t,"value jobs"))},options:D.industry.map((e=>e)),getOptionLabel:e=>"".concat(e.options),filterSelectedOptions:!0,value:{options:d.industry?d.industry:"",category:"industry"},renderInput:e=>(0,T.jsx)(j.Z,{...e,label:"Industry",placeholder:"Industry"})})}),(0,T.jsxs)("div",{className:"col-sm-4 mt-3",children:[" ",(0,T.jsx)(N.Z,{id:"tags-outlined",options:D.area.map((e=>e)),getOptionLabel:e=>"".concat(e.options),onChange:(e,t,n)=>{"clear"===n?(console.log("Selection cleared"),M("")):(M(t?t.options:""),console.log(t,"value jobs"))},value:{options:d.area?d.area:"",category:"areas"},fullWidth:!0,filterSelectedOptions:!0,renderInput:e=>(0,T.jsx)(j.Z,{...e,label:"Area",placeholder:"Area",value:d.area})})]}),(0,T.jsx)("div",{className:"col-sm-4 mt-3",children:(0,T.jsx)(N.Z,{id:"tags-outlined",options:D.city.map((e=>e)),getOptionLabel:e=>"".concat(e.options),onChange:(e,t,n)=>{"clear"===n?(console.log("Selection cleared"),Q("")):(Q(t),console.log(t,"value jobs"))},value:{options:d.city?d.city:"",category:"city"},fullWidth:!0,filterSelectedOptions:!0,renderInput:e=>(0,T.jsx)(j.Z,{...e,label:"City",placeholder:"City"})})})]}),(0,T.jsxs)("div",{className:"d-flex flex-row gap-2 justify-content-end mt-4",children:[(0,T.jsx)("button",{className:"rounded-pill ".concat(h.Z.Filterbutton),variant:"outlined",onClick:e=>{!function(e){e.preventDefault(),m({companyName:"",contactNumber:"",industry:"",city:"",area:"",createdTime:"",endDate:""}),R({start:null,end:null,dateFilterType:""}),r(!1),p(y.qE.setEmployerRegisterFilter({...c,createdTime:"",endDate:"",page:1,size:n,dateFilterType:""}))}(e)},children:"Clear All"}),(0,T.jsx)("button",{className:"rounded-pill ".concat(h.Z.search),type:"submit",variant:"contained",sx:{minWidth:"150px"},children:"Search"})]})]})})})})]})})})]})};var w=n(63493),E=n(72610),R=n(39126),I=n(25763),_=n(65322),q=(n(74334),n(2133));const P=(0,p.ZP)(a.Z)((e=>{let{theme:t}=e;return{["&.".concat(s.Z.head)]:{backgroundColor:"#d2d2d2",color:"#545454f0",padding:"8px"},["&.".concat(s.Z.body)]:{fontSize:14,padding:"8px"}}}));function z(e){const t=(0,S.v9)((e=>e.EmployerRegisterDetails.EmployerRegisterFilter)),n=(0,S.v9)((e=>e.EmployerRegisterDetails.EmployerRegisterFilter.page));(0,S.v9)((e=>e.EmployerRegisterDetails.EmployerRegisterFilter.size));console.log(n,"skdklklpage");const a=(0,S.I0)(),[s,p]=(0,u.useState)(),[j,g]=(0,u.useState)(),[f,b]=(0,u.useState)([]),[N,Z]=(0,u.useState)({totalPages:0,totalCount:0,currentPage:1}),[F,z]=(0,u.useState)(!1),[W,L]=(0,u.useState)(!1),O=(0,S.v9)((e=>e.adminDetails)),[A,M]=(0,u.useState)(!1);let Q=1==O.roleID;const[B,H]=(0,u.useState)([]),[X,U]=(0,u.useState)([]),[G,K]=(0,u.useState)();(0,u.useEffect)((()=>{(0,k.EPx)().then((e=>{console.log(e,"All admin details");const t=e.map((e=>e.userName)),n=e.map((e=>e.id));H(t),U(n)}))}),[]);const V={qualified:(0,u.useRef)(),notQualified:(0,u.useRef)()},Y=(e,t)=>{const n=V[e];n&&n.current&&(n.current.click(),console.log(t,"refcurrent"))};const[$,J]=(0,u.useState)({confirmtext:"",isQualified:"",openPopup:!1,empId:""});function ee(e,t){console.log(e,"staus");let n,a="";"qualify"==e?(a="Are you sure you want to qualify <b>".concat(s.contactPersonName,"</b> "),n=!0):(a="Are you sure you want to not qualify <b>".concat(s.contactPersonName,"</b> "),n=!1),J((e=>({...e,openPopup:!0,isQualified:n,confirmtext:a,empId:s.id})))}function te(){J((e=>({...e,openPopup:!1})))}function ne(){z(!0),(0,k.nZt)($).then((e=>{J((e=>({...e,openPopup:!1}))),(0,k.UDw)(t).then((e=>{b(e.employerList),g(Math.ceil(e.totalCount/t.size)),Z({totalPages:Math.ceil(e.totalCount/t.size),totalCount:e.totalCount,currentPage:t.page})})),z(!1)})).catch((e=>{console.log(e)}))}(0,u.useEffect)((()=>{console.log(t,"Employerrrrrr")}),[t]),(0,u.useEffect)((()=>{(0,k.UDw)(t).then((e=>{b(e.employerList),K(e.totalCount),g(Math.ceil(e.totalCount/t.size))}))}),[t]);const ae=()=>{M(!1)};return(0,T.jsx)("div",{children:(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)("div",{className:"".concat(h.Z.FilterHead),children:[" ",(0,T.jsxs)("div",{className:"d-flex ",children:["Show ","  ",(0,T.jsxs)("select",{name:"",id:"",className:"px-1 py-1 mx-2",onChange:e=>function(e){a(y.qE.setEmployerRegisterFilterSize(e))}(e.target.value),children:[(0,T.jsx)("option",{selected:!0,value:"10",children:"10"}),(0,T.jsx)("option",{value:"20",children:"20"}),(0,T.jsx)("option",{value:"30",children:"30"})]}),"   ","Entries"]}),(0,T.jsxs)("div",{className:"".concat(E.Z.filterAdduser),children:[(0,T.jsxs)("div",{className:"mt-2 me-2",children:["Total Count : ",G]}),(0,T.jsx)(D,{}),(0,T.jsx)("a",{style:{textDecoration:"none"},href:"https://www.taizo.in/waNotifications/customCompanyDetails.html?admin_id=".concat(localStorage.getItem("adminID")),target:"_blank",children:(0,T.jsxs)("button",{className:"ms-2 ".concat(E.Z.NewLead),children:[(0,T.jsx)(x.vM4,{})," Add New Employer"]})})]})]}),(0,T.jsxs)("div",{children:[(0,T.jsx)("div",{className:"".concat(h.Z.Container),children:(0,T.jsx)("div",{className:"table-responsive-sm ".concat(h.Z.responsive),children:(0,T.jsx)(l.Z,{className:"".concat(h.Z.TableContainer),children:(0,T.jsxs)(i.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"",children:[(0,T.jsx)(o.Z,{className:"".concat(h.Z.Header),children:(0,T.jsxs)(r.Z,{children:[(0,T.jsx)(P,{children:"Contact Person Name"}),(0,T.jsx)(P,{children:"Company Name"}),(0,T.jsx)(P,{children:"Mobile Number"}),(0,T.jsx)(P,{children:"Industry"}),(0,T.jsx)(P,{children:"City"}),(0,T.jsx)(P,{children:"Area"}),Q&&(0,T.jsx)(P,{children:"Assigned By"}),(0,T.jsx)(P,{children:"Registered on"}),(0,T.jsx)(P,{children:"Status"})]})}),(0,T.jsx)(c.Z,{children:f.length>0?(0,T.jsx)(T.Fragment,{children:f.map(((e,t)=>(0,T.jsx)(T.Fragment,{children:(0,T.jsxs)(r.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},onClick:()=>{var t;t=e.employer,console.log(t,"Current Dataaaaaa"),p(t)},children:[(0,T.jsx)(P,{title:e.employer.contactPersonName,children:e.employer.contactPersonName?(0,C.Th)((0,C.Ls)(e.employer.contactPersonName),15):"-"}),(0,T.jsx)(P,{sx:{color:"#0b7af0",cursor:"pointer"},title:e.employer.companyName,onClick:()=>{var t,n;t=e.employer.id,n="employerDetails",console.log(t),a(y.MT.setShowPopup({name:n,id:t}))},children:e.employer.companyName?(0,C.Th)((0,C.Ls)(e.employer.companyName),20):"-"}),(0,T.jsx)(P,{title:e.employer.mobileNumber,children:e.employer.mobileNumber?String(e.employer.mobileNumber).slice(0,10):""}),(0,T.jsx)(P,{title:e.employer.industry,children:e.employer.industry?(0,C.Th)((0,C.Ls)(e.employer.industry),15):"-"}),(0,T.jsx)(P,{children:e.employer.city}),(0,T.jsx)(P,{children:e.employer.area}),Q&&(0,T.jsx)(P,{align:"left",children:(0,T.jsx)(T.Fragment,{children:B[X.indexOf(e.employer.assignTo)]})}),(0,T.jsx)(P,{children:(0,T.jsx)(C.H3,{dateValue:e.employer.createdTime})}),(0,T.jsx)(P,{children:(0,T.jsxs)("div",{className:"".concat(w.Z.Status),children:[(0,T.jsxs)("div",{children:[!0===e.employer.qualified&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:"".concat(w.Z.qualified),children:"Qualified"})}),!0===e.employer.notQualified&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("div",{className:"".concat(w.Z.Notqualified),children:"Not Qualified"})})]}),(0,T.jsxs)("div",{className:"btn-group dropstart",children:[(0,T.jsx)("button",{type:"button","data-bs-toggle":"dropdown","data-bs-no-caret":"true","aria-expanded":"false",style:{border:"none",background:"none",color:"#000",cursor:"pointer",outline:"none",position:"relative",right:"5px",fontSize:20,zIndex:1},children:(0,T.jsxs)("span",{className:"",children:[" ",(0,T.jsx)(R.FQA,{})," "]})})," ",(0,T.jsxs)("ul",{className:"dropdown-menu",style:{textAlign:"left"},children:[(0,T.jsx)("li",{onClick:()=>{Y("qualified",e.employer.id)},children:(0,T.jsx)("a",{className:"dropdown-item",href:"#",children:(0,T.jsxs)("div",{className:"".concat(h.Z.select_wrp),children:[(0,T.jsx)("input",{type:"radio",ref:V.qualified,name:"status_".concat(e.employer.id),checked:e.employer.qualified,id:"qualified_".concat(e.employer.id),onClick:()=>{ee("qualify",e.employer.id)}}),(0,T.jsxs)("label",{htmlFor:"qualified_".concat(e.employer.id),children:[" ",(0,T.jsx)(I.Zh5,{style:{color:"#169C50",fontSize:20}}),"Qualified"]})]})})}),(0,T.jsx)("li",{onClick:()=>Y("notQualified",e.employer.id),children:(0,T.jsx)("a",{className:"dropdown-item",href:"#",children:(0,T.jsxs)("div",{className:"".concat(h.Z.select_wrp),children:[(0,T.jsx)("input",{ref:V.notQualified,type:"radio",checked:e.employer.notQualified,onClick:()=>{ee("notQualify",e.employer.id)},name:"status_".concat(e.employer.id),id:"notQualified_".concat(e.employer.id)}),(0,T.jsxs)("label",{htmlFor:"notQualified_".concat(e.employer.id),children:[(0,T.jsx)(I.Zh5,{style:{color:"#b2261c",fontSize:20}})," ","Not Qualified"]})]})})}),(0,T.jsx)("li",{onClick:()=>M(!A),children:(0,T.jsx)("div",{className:"dropdown-item",children:(0,T.jsxs)("label",{htmlFor:"",children:[(0,T.jsx)(I.Zh5,{style:{color:"#16617b",fontSize:20}})," ","SLA Email"]})})})]})]})]})})]},t)})))}):(0,T.jsx)(T.Fragment,{children:(0,T.jsx)("h6",{className:"text-danger",children:"Not found"})})}),A&&(0,T.jsx)(q.Z,{Id:s.id,onClose:ae,onSuccess:ae,toEmail:s.emailId}),W&&(0,T.jsx)(C.Xf,{children:(0,T.jsx)(v.Z,{zIndex:1005,childComponent:(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(_.Z,{heading:"Confirmation",headingText:"Are you sure you want to update <b> ".concat(s.contactPersonName,"</b>"),onConfirm:ne,enableSubmit:F,onRequestClose:te})})})}),$.openPopup&&(0,T.jsx)(C.Xf,{children:(0,T.jsx)(v.Z,{zIndex:1e4,childComponent:(0,T.jsx)(_.Z,{heading:"Confirmation",headingText:$.confirmtext,onConfirm:ne,enableSubmit:F,onRequestClose:te})})})]})})})}),(0,T.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-3 position-absolute bottom-0 start-50 translate-middle-x",children:(0,T.jsx)(d.Z,{spacing:2,children:(0,T.jsx)(m.Z,{count:j,onChange:function(e,t){const n=t;console.log(e,"current page"),a(y.qE.setEmployerRegisterFilterPage(n))},variant:"outlined",shape:"rounded",color:"success",size:"medium"})})})]})]})})}},63493:(e,t,n)=>{n.d(t,{Z:()=>a});const a={BoxContainerWidth:"RegisteredCandidate_BoxContainerWidth__ndKSR","flex-container":"RegisteredCandidate_flex-container__sW+Fi",Status:"RegisteredCandidate_Status__OMeY8",qualified:"RegisteredCandidate_qualified__bknLX",Notqualified:"RegisteredCandidate_Notqualified__AW0Gj",Followup:"RegisteredCandidate_Followup__6isun"}}}]);
//# sourceMappingURL=525.5975b43c.chunk.js.map