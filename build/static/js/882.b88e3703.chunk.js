"use strict";(self.webpackChunkadmin_login_react=self.webpackChunkadmin_login_react||[]).push([[882],{8592:(e,a,t)=>{t.r(a),t.d(a,{default:()=>_});var s=t(68745),l=t(39281),n=t(79836),i=t(56890),o=t(35855),r=t(53382),c=t(52739),d=t(13239),m=t(36314),u=t(57246),p=t(72791),x=t(19129),h=t(12105),b=t(28789),j=t(90618);const y=t.p+"static/media/whiteCollar.b8dd9682e722c0459def.png",g=t.p+"static/media/blueCollar.d4e0e60b6af7bc57f66b.png";var f=t(59434),v=t(35019),C=t(71185),S=t(20751),N=t(31711),k=t(78820),D=t(7692),Z=t(15770),T=t(93006),w=t(68096),F=t(65117),E=t(64387),I=t(80184);const L=function(){const e=(0,f.v9)((e=>e.JobsDetailsDetails.JobsData)),a=(0,f.v9)((e=>e.JobsDetailsDetails.refreshRedDot)),t=(0,f.v9)((e=>e.JobsDetailsDetails.createdTime)),s=(0,f.v9)((e=>e.JobsDetailsDetails.endDate)),[l,n]=(0,p.useState)(!1),i=(0,f.I0)(),[o,r]=(0,p.useState)([]),[c,d]=(0,p.useState)([]),[u,x]=(0,p.useState)([]),[b,j]=p.useState(null),[y,g]=(0,p.useState)(!1),L=Boolean(b),[M,_]=(0,p.useState)({start:!1,end:!1});(0,f.v9)((e=>e.adminDetails));let J={assignTo:localStorage.getItem("adminID"),priority:null,companyName:"",area:[],benefits:[],gender:null,industry:[],jobCategory:[],jobExp:-1,jobMaxExp:-1,jobLocation:[],keyskills:[],qualification:[],employerId:-1,salary:-1,maxSalary:-1,pages:1,size:10,createdTime:"2021-01-01",endDate:(0,S.BB)(new Date),dateFilterType:""};const[W,q]=(0,p.useState)({industry:[],jobCategory:[],keyskills:[],qualification:[],area:[],jobLocation:[]}),[z,O]=(0,p.useState)({assignTo:localStorage.getItem("adminID"),priority:e.priority,companyName:e.companyName,area:e.area,benefits:e.benefits,gender:e.gender,industry:e.industry,jobCategory:e.jobCategory,jobExp:e.jobExp,jobMaxExp:e.jobMaxExp,jobLocation:e.jobLocation,keyskills:e.keyskills,qualification:e.qualification,employerId:e.employerId,salary:e.salary,maxSalary:e.maxSalary,pages:e.pages,size:e.size,createdTime:e.createdTime,endDate:e.endDate}),[R,B]=(0,p.useState)(!1),[P,G]=(0,p.useState)({start:e.createdTime,end:e.endDate,dateFilterType:e.dateFilterType});(0,p.useEffect)((()=>{(0,v.aUE)().then((e=>{x(e)}))}),[]),(0,p.useEffect)((()=>{0!==c.length&&c.forEach((e=>{switch(e.category){case"areas":O((a=>{let t=[...a.area];return t.includes(e.options)?t=c.filter((e=>"areas"===e.category)).map((e=>e.options)):t.push(e.options),{...a,area:t}}));break;case"benefits":O((a=>{let t=[...a.benefits];return t.includes(e.options)?t=c.filter((e=>"benefits"===e.category)).map((e=>e.options)):t.push(e.options),{...a,benefits:t}}));break;case"skills":O((a=>{let t=[...a.keyskills];return t.includes(e.options)?t=c.filter((e=>"skills"===e.category)).map((e=>e.options)):t.push(e.options),{...a,keyskills:t}}));break;case"qualification":O((a=>{let t=[...a.qualification];return t.includes(e.options)?t=c.filter((e=>"qualification"===e.category)).map((e=>e.options)):t.push(e.options),{...a,qualification:t}}));break;case"industry":O((a=>{let t=[...a.industry];return t.includes(e.options)?t=c.filter((e=>"industry"===e.category)).map((e=>e.options)):t.push(e.options),{...a,industry:t}}));break;case"city":O((a=>{let t=[...a.jobLocation];return t.includes(e.options)?t=c.filter((e=>"city"===e.category)).map((e=>e.options)):t.push(e.options),{...a,jobLocation:t}}));break;case"job category":O((a=>{let t=[...a.jobCategory];return t.includes(e.options)?t=c.filter((e=>"job category"===e.category)).map((e=>e.options)):t.push(e.options),{...a,jobCategory:t}}))}}));let e=c.map((e=>e.category));e.includes("areas")||O((e=>({...e,area:[]}))),e.includes("benefits")||O((e=>({...e,benefits:[]}))),e.includes("skills")||O((e=>({...e,keyskills:[]}))),e.includes("qualification")||O((e=>({...e,qualification:[]}))),e.includes("industry")||O((e=>({...e,industry:[]}))),e.includes("city")||O((e=>({...e,jobLocation:[]}))),e.includes("job category")||O((e=>({...e,jobCategory:[]})))}),[c]);const H=e=>{let a=e;const t=new Date;let s=new Date;if("lastWeek"===a){const e=new Date;e.setDate(t.getDate()-7),G((a=>({...a,dateFilterType:"Last 1 Week",start:e.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null)}else if("today"===a)G((e=>({...e,dateFilterType:"Today",start:t.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null);else if("lastMonth"===a){const e=new Date;e.setMonth(e.getMonth()-1),G((a=>({...a,dateFilterType:"Last Month",start:e.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null)}else if("lastTwoWeeks"===a){const e=new Date(t);e.setDate(t.getDate()-13),G((a=>({...a,dateFilterType:"Last 2 Week",start:e.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}))),j(null)}else"custom"===a&&(g(!0),j(null))};function A(e,a){const t=e.target.value;"startDate"===a?(G((e=>({...e,start:t,dateFilterType:"custom"}))),_((e=>({...e,start:!1})))):(G((e=>({...e,end:t,dateFilterType:"custom"}))),_((e=>({...e,end:!1}))))}(0,p.useEffect)((()=>{console.log(z)}),[z]);const Q=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"}],X=e=>{const{value:a,name:t}=e.target;console.log(e),console.log(a,t),"minExperience"===t?O((e=>({...e,jobExp:a}))):"maxExperience"===t&&O((e=>({...e,jobMaxExp:a})))},U=e=>{const{value:a,id:t}=e.target;"minSalary"===t&&O(-1!=a?e=>({...e,salary:a}):e=>({...e,salary:-1})),"maxSalary"===t&&O(-1!=a?e=>({...e,maxSalary:a}):e=>({...e,maxSalary:-1}))};return(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"d-flex justify-content-end",children:(0,I.jsxs)("button",{className:"rounded-pill d-flex align-items-center ".concat(h.Z.Filterbutton),variant:"contained",onClick:()=>n(!0),children:[(0,I.jsx)(D.Ol$,{}),(0,I.jsx)("p",{style:{backgroundColor:a?"red":"transparent",width:"8px",height:"8px",borderRadius:"50%"}}),"Filter"]})}),l&&(0,I.jsx)(S.Xf,{children:(0,I.jsx)(N.Z,{childComponent:(0,I.jsxs)(I.Fragment,{children:[" ",(0,I.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,I.jsx)("h4",{className:"text-center mb-2",children:"Filter by"}),(0,I.jsx)("h3",{children:(0,I.jsx)("span",{onClick:function(a){a.preventDefault(),i(C.R6.setJobsData({...z,createdTime:P.start,endDate:P.end,pages:1,size:e.size,dateFilterType:P.dateFilterType})),n(!1)},className:"btn btn-outline-danger",style:{cursor:"pointer",fontSize:15},children:(0,I.jsx)(k.oHP,{})})})]}),(0,I.jsx)("div",{className:"".concat(h.Z.BoxContainerWidth),children:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("form",{onSubmit:a=>{(a=>{a.preventDefault(),i(C.R6.setJobsData({...z,createdTime:P.start||t,endDate:P.end||s,pages:1,size:e.size,dateFilterType:P.dateFilterType||""}));const l=z.priority||z.companyName||z.area||z.benefits||z.gender||z.industry||z.jobCategory||z.jobExp||z.jobMaxExp||z.jobLocation||z.keyskills||z.qualification||z.employerId||z.salary||z.maxSalary||P.start||P.end;i(C.R6.setJobsRedDot(l)),n(!1)})(a)},children:(0,I.jsxs)(m.Z,{className:"mt-1",children:[" ",(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("div",{className:"col-sm-9",children:[" ",(0,I.jsx)(Z.Z,{multiple:!0,id:"tags-outlined",className:"",options:u.map((e=>e)),getOptionLabel:e=>"".concat(e.options," (").concat(e.category,")"),value:c,filterSelectedOptions:!0,onChange:(e,a)=>{console.log(a,"values"),d(a)},renderInput:e=>(0,I.jsx)(T.Z,{...e,label:"Select Option",placeholder:"Area,City,Industry,Job Category,Benifits,Skills,Qualification"})})]}),(0,I.jsx)("div",{className:"col-sm-3",children:(0,I.jsx)(T.Z,{fullWidth:!0,label:"Company Name",name:"companyName",placeholder:"Company Name",value:z.companyName,onChange:e=>{return a="companyName",t=e.target.value,void("companyName"===a&&O({...z,[a]:t}));var a,t}})})]}),(0,I.jsxs)("div",{className:"row",children:[(0,I.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,I.jsxs)(w.Z,{variant:"outlined",fullWidth:!0,children:[(0,I.jsx)(T.Z,{label:"Created on",id:"basic-button",value:"".concat(P.dateFilterType),"aria-controls":L?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":L?"true":void 0,onClick:e=>{j(e.currentTarget)}}),(0,I.jsxs)(F.Z,{id:"basic-menu",anchorEl:b,open:L,onClose:()=>{j(null)},fullWidth:!0,MenuListProps:{"aria-labelledby":"basic-button"},style:{width:"100%"},children:[(0,I.jsx)(E.Z,{onClick:()=>{H("today")},style:{width:"250px"},children:"Today"}),(0,I.jsx)(E.Z,{onClick:()=>{H("lastWeek")},children:"Last 1 Week"}),(0,I.jsx)(E.Z,{onClick:()=>{H("lastTwoWeeks")},children:"Last 2 Week"}),(0,I.jsx)(E.Z,{onClick:()=>{H("lastMonth")},children:"Last Month"}),(0,I.jsx)(E.Z,{onClick:()=>{H("custom")},children:"Custom Date"})]})]}),y&&(0,I.jsx)(S.Xf,{children:(0,I.jsx)(N.Z,{zIndex:1005,childComponent:(0,I.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,I.jsx)(I.Fragment,{children:(0,I.jsx)("div",{children:(0,I.jsxs)("form",{children:[(0,I.jsxs)("p",{className:"text-center ",children:["Select Custom Date"," "]}),(0,I.jsxs)("div",{className:"mt-2",children:[(0,I.jsx)("label",{htmlFor:"start",children:"From"}),(0,I.jsx)("input",{className:"form-control ".concat(M.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>A(e,"startDate"),value:P.start,name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),M.start&&(0,I.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,I.jsxs)("div",{className:"mt-2",children:[(0,I.jsx)("label",{htmlFor:"end",children:"To"}),(0,I.jsx)("input",{className:"form-control ".concat(M.end?"is-invalid":""),value:P.end,style:{width:"100%"},type:"date",id:"end",onChange:e=>A(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),M.end&&(0,I.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,I.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,I.jsx)("button",{onClick:()=>{_({start:!1,end:!1}),g(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,I.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=P.start&&P.end;return P.start||_((e=>({...e,start:!0}))),P.end||_((e=>({...e,end:!0}))),e})()&&(console.log("Form submitted:",P),_({start:!1,end:!1}),g(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]}),(0,I.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,I.jsx)(Z.Z,{id:"priority",name:"priority",disableClearable:!0,onChange:(e,a,t)=>((e,a)=>{console.log(e,a,"valueeeeeeeeeeeeee"),O(null!==e?a=>({...a,priority:e}):e=>({...e,priority:null}))})(a,t),options:[{value:"high",label:"High"},{value:"medium",label:"Medium"},{value:"low",label:"Low"}].map((e=>e.label)),value:z.priority,renderInput:e=>(0,I.jsx)(T.Z,{...e,label:"Priority",InputProps:{...e.InputProps,type:"search"}})})]}),(0,I.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,I.jsx)(T.Z,{onChange:e=>X(e),name:"minExperience",id:"minExperience",className:"form-control",select:!0,label:"Min Experience",value:z.jobExp,children:Q.map((e=>(0,I.jsx)(E.Z,{value:e.value,children:e.label},e.value)))})]}),(0,I.jsx)("div",{className:"col-sm-3 mt-3",children:(0,I.jsx)(T.Z,{onChange:e=>X(e),name:"maxExperience",id:"maxExperience",className:"form-control",select:!0,label:"Max Experience",value:z.jobMaxExp,children:Q.map((e=>(0,I.jsx)(E.Z,{value:e.value,children:e.label},e.value)))})}),(0,I.jsx)("div",{className:"col-sm-3 mt-3",children:(0,I.jsx)(T.Z,{onChange:e=>{U(e)},value:-1===z.salary?"":z.salary,className:"form-control",type:"number",id:"minSalary",label:"Min Salary",variant:"outlined",fullWidth:!0})}),(0,I.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,I.jsx)(T.Z,{type:"number",onChange:e=>{U(e)},value:-1===z.maxSalary?"":z.maxSalary,className:"form-control",id:"maxSalary",label:"Max Salary",variant:"outlined",fullWidth:!0})]}),(0,I.jsxs)("div",{className:"col-sm-3 mt-3",children:[" ",(0,I.jsx)(T.Z,{onChange:e=>(e=>{const{value:a,name:t}=e.target;"Gender"===t&&O((e=>({...e,gender:a})))})(e),name:"Gender",id:"Gender",className:"form-control",select:!0,label:"Gender",value:z.gender,children:[{value:"Male",label:"Male"},{value:"Female",label:"Female"}].map((e=>(0,I.jsx)(E.Z,{value:e.value,children:e.label},e.value)))})]})]}),(0,I.jsx)("div",{className:"row"}),(0,I.jsxs)("div",{className:"d-flex flex-row gap-2 justify-content-end mt-4",children:[(0,I.jsx)("button",{className:"rounded-pill ".concat(h.Z.Filterbutton),variant:"outlined",onClick:e=>{!function(e){e.preventDefault(),i(C.R6.setJobsData(J)),G({start:"2020-01-01",end:(0,S.BB)(new Date),dateFilterType:""}),d([]),O(J),B(!1),i(C.R6.setJobsRedDot(!1))}(e)},children:"Clear All"}),(0,I.jsx)("button",{className:"rounded-pill ".concat(h.Z.search),type:"submit",variant:"contained",sx:{minWidth:"150px"},children:"Search"})]})]})})})})]})})})]})},M=(0,b.ZP)(s.Z)((e=>{let{theme:a}=e;return{["&.".concat(j.Z.head)]:{backgroundColor:"#d2d2d2",color:"#545454f0","@media (max-width: 992px)":{}},["&.".concat(j.Z.body)]:{fontSize:14,"@media (max-width: 992px)":{}}}}));const _=function(){const e=(0,f.v9)((e=>e.JobsDetailsDetails.JobsList)),a=(0,f.I0)(),[t,b]=(0,p.useState)(),[j,N]=(0,p.useState)(!1),k=(0,f.v9)((e=>e.JobsDetailsDetails.JobsData));return(0,p.useEffect)((()=>{console.log(e)}),[e]),(0,p.useEffect)((()=>{(0,v.QGW)(k).then((e=>{console.log(e,"data"),a(C.R6.setJobList(e)),b(Math.ceil((e.length>0?e[0].total_count:10)/k.size))}))}),[k]),(0,I.jsxs)(I.Fragment,{children:[" ",(0,I.jsxs)("div",{className:"".concat(h.Z.FilterHead),children:[" ",(0,I.jsxs)("div",{className:"d-flex ",children:["Show ","  ",(0,I.jsxs)("select",{name:"",id:"",className:"px-1 py-1 mx-2",onChange:e=>{return t=e.target.value,void a(C.R6.setJobsDatasize(t));var t},children:[(0,I.jsx)("option",{selected:!0,value:"10",children:"10"}),(0,I.jsx)("option",{value:"20",children:"20"}),(0,I.jsx)("option",{value:"30",children:"30"})]}),"   ","Entries"]}),(0,I.jsx)("div",{className:"p-1 success me-2 mx-2 ms-auto",onClick:()=>{N(!0),a(C.R6.setJobList({assignTo:localStorage.getItem("adminID"),priority:null,companyName:"",area:[],benefits:[],gender:null,industry:[],jobCategory:[],jobExp:-1,jobMaxExp:-1,jobLocation:[],keyskills:[],qualification:[],employerId:-1,salary:-1,maxSalary:-1,pages:1,size:10,createdTime:"2021-01-01",endDate:(0,S.BB)(new Date)})),(0,v.QGW)(k).then((e=>{console.log(e,"data"),a(C.R6.setJobList(e)),b(Math.ceil((e.length>0?e[0].total_count:10)/k.size))})).finally((()=>{N(!1)}))},children:(0,I.jsx)(x.t11,{})}),(0,I.jsx)(L,{})]}),(0,I.jsxs)("div",{children:[(0,I.jsx)("div",{className:"".concat(h.Z.Container),children:(0,I.jsx)("div",{className:"table-responsive-sm ".concat(h.Z.responsive),children:(0,I.jsxs)("div",{style:{minWidth:300},children:[(0,I.jsx)(l.Z,{className:"".concat(h.Z.TableContainer),children:(0,I.jsxs)(n.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"",children:[(0,I.jsx)(i.Z,{className:"".concat(h.Z.Header),children:(0,I.jsxs)(o.Z,{children:[(0,I.jsx)(M,{children:"Company Name"}),(0,I.jsx)(M,{children:"Mobile Number"}),(0,I.jsx)(M,{children:"Job Category"}),(0,I.jsx)(M,{children:"Qualification"}),(0,I.jsx)(M,{children:"City"}),(0,I.jsx)(M,{children:"Area"})," ",(0,I.jsx)(M,{children:"Created on"}),(0,I.jsx)(M,{children:"Status"})]})}),(0,I.jsx)(r.Z,{children:e.length>0?(0,I.jsx)(I.Fragment,{children:e.map(((e,t)=>(0,I.jsx)(I.Fragment,{children:(0,I.jsxs)(o.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,I.jsx)(M,{style:{cursor:"pointer"},className:"text-primary ",title:e.company_name,onClick:()=>{var t;t=e.job_id,a(C.MT.setShowPopup({name:"jobDetails",id:t}))},children:e.company_name?(0,S.Th)((0,S.Ls)(e.company_name),20):"-"}),(0,I.jsx)(M,{children:e.mobile_number?String(e.mobile_number).slice(0,10):"-"}),(0,I.jsx)(M,{title:e.job_category,children:e.job_category?(0,S.Th)((0,S.Ls)(e.job_category),20):"-"}),(0,I.jsx)(M,{title:e.pref_qualification,children:e.pref_qualification?(0,S.Th)((0,S.Ls)(e.pref_qualification),20):"-"}),(0,I.jsx)(M,{children:e.job_city}),(0,I.jsx)(M,{children:e.area}),(0,I.jsx)(M,{children:(0,I.jsx)(S.H3,{dateValue:e.created_time})}),(0,I.jsxs)(M,{children:["C"===e.job_status?(0,I.jsx)("span",{className:"text-danger",children:(0,I.jsx)("b",{children:"Closed"})}):(0,I.jsx)("span",{className:"text-success",children:(0,I.jsx)("b",{children:"Open"})}),"MidSenior Category"===e.collar_type&&(0,I.jsx)("img",{src:y,alt:"",style:{width:"30px",height:"30px",marginLeft:"15px"},title:"MidSenior Category"}),"Operator Category"===e.collar_type&&(0,I.jsx)("img",{src:g,alt:"",style:{width:"30px",height:"30px",marginLeft:"15px"},title:"Operator Category"})]})]},t)})))}):(0,I.jsx)(o.Z,{children:(0,I.jsx)(s.Z,{colSpan:8,align:"center",children:(0,I.jsx)("p",{className:"text-danger",children:"Not found"})})})})]})}),(0,I.jsx)(I.Fragment,{children:(0,I.jsx)(c.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:j,children:(0,I.jsx)(d.Z,{color:"inherit"})})})]})})}),(0,I.jsx)("div",{className:"d-flex justify-content-center align-items-center mb-3 position-absolute bottom-0 start-50 translate-middle-x",children:(0,I.jsx)(m.Z,{spacing:2,children:(0,I.jsx)(u.Z,{count:t,variant:"outlined",shape:"rounded",color:"success",boundaryCount:1,siblingCount:0,onChange:function(e,t){const s=t;a(C.R6.setJobsDataPage(s))},size:"medium"})})})]})]})}}}]);
//# sourceMappingURL=882.b88e3703.chunk.js.map