"use strict";(self.webpackChunkadmin_login_react=self.webpackChunkadmin_login_react||[]).push([[741],{16741:(e,t,l)=>{l.r(t),l.d(t,{default:()=>V});var a=l(72791),i=l(39281),n=l(79836),s=l(56890),o=l(35855),r=l(53382),c=l(52739),d=l(13239),u=l(36314),m=l(57246),h=l(93006),x=l(68096),p=l(64554),f=l(94294),j=l(15770),g=l(68745),y=l(90618),b=l(66934),v=l(94822),w=l(19129),C=l(35019),N=l(59434),D=l(97892),S=l.n(D),k=l(72610),F=l(78820),Z=l(7692),T=l(20751),_=l(31711),L=l(12105),I=l(59513),q=l.n(I),E=(l(68639),l(63493)),M=l(71185),R=l(64387),P=l(66828),U=l(83307),O=l(80184);const Q=function(){const e=(0,N.I0)(),t=(0,N.v9)((e=>e.CandidateRegistered.filterData)),[l,i]=(0,a.useState)(!1),[n,s]=(0,a.useState)([]),[o,r]=a.useState(null),[c,d]=(0,a.useState)(!1),u=Boolean(o),[m,x]=(0,a.useState)({start:!1,end:!1});let p=1==(0,N.v9)((e=>e.adminDetails)).roleID,f={adminId:p?-1:localStorage.getItem("adminID"),mobileNumber:"",gender:"Both",industry:[],jobCategory:[],eligibility:null,qualification:[],candidateType:null,specification:[],skills:[],prefLocation:[],passed_out_year:-1,experience:-1,maxExperience:-1,pages:1,size:10,createdTime:"2020-01-01",endDate:(0,T.BB)(new Date),dateFilterType:"",followUpDate2:"",followUpDate1:""};const[g,y]=(0,a.useState)({Industries:[],Jobrole:[],keySkills:[],Qualification:[],specification:[],prefLocation:[]}),[b,v]=(0,a.useState)({adminId:p?-1:localStorage.getItem("adminID"),mobileNumber:t.mobileNumber,gender:t.gender,industry:t.industry,jobCategory:t.jobCategory,eligibility:t.eligibility,qualification:t.qualification,candidateType:null,specification:t.specification,skills:t.skills,prefLocation:t.prefLocation,passed_out_year:-1,experience:t.experience,maxExperience:t.maxExperience,pages:t.pages,size:t.size,createdTime:t.createdTime,endDate:t.endDate,followUpDate1:t.followUpDate1,followUpDate2:t.followUpDate2}),[w,D]=(0,a.useState)(!1),[S,k]=(0,a.useState)({start:t.createdTime,end:t.endDate,dateFilterType:t.dateFilterType});function I(e){let l=[],a=[];switch(e){case"keySkills":l=[...g.keySkills],a=[...t.skills];break;case"qualification":l=[...g.Qualification],a=[...t.qualification];break;case"prefLocation":l=[...g.prefLocation],a=[...t.prefLocation];break;case"industry":l=[...g.industry],a=[...t.industry];break;case"jobCategory":l=[...g.Jobrole],a=[...t.jobCategory];break;case"specification":l=[...g.specification],a=[...t.specification]}if("specification"!=e){return l.filter((e=>a.includes(e.options)))}return l.filter((e=>a.includes(e.courses)))}(0,a.useEffect)((()=>{e(M.LG.setRegisterCandidateListFilter(f)),k({start:"2020-01-01",end:(0,T.BB)(new Date),dateFilterType:""}),v(f),D(!1)}),[]),(0,a.useEffect)((()=>{(0,C.aUE)().then((e=>{y((t=>({...t,Industries:e.filter((e=>"industry"==e.category)),Jobrole:e.filter((e=>"job category"==e.category)),keySkills:e.filter((e=>"skills"==e.category)),prefLocation:e.filter((e=>"city"==e.category)),Qualification:e.filter((e=>"qualification"==e.category))})))})),(0,C.EPx)().then((e=>{const t=e.filter((e=>!e.Deactived));s(t)})).catch((()=>{alert("Something Went wrong")}))}),[]),(0,a.useEffect)((()=>{const e=[(0,C.UlB)(),(0,C.rMQ)(),(0,C.prS)(),(0,C.iJD)()];Promise.all(e).then((e=>{const t=e.map((e=>e.results)).flat();y((e=>({...e,specification:t})))})).catch((e=>{console.error("Error fetching and mapping data:",e)}))}),[]);const Q=[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"}],z=e=>{const{value:t,name:l}=e.target;"experience"===l?v((e=>({...e,experience:t}))):"maxExperience"===l&&v((e=>({...e,maxExperience:t})))},A=e=>{let t=e;const l=new Date;let a=new Date;if("lastWeek"===t){const e=new Date;e.setDate(l.getDate()-7),k((t=>({...t,dateFilterType:"Last 1 Week",start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),r(null)}else if("today"===t)k((e=>({...e,dateFilterType:"Today",start:l.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),r(null);else if("lastMonth"===t){const e=new Date;e.setMonth(e.getMonth()-1),k((t=>({...t,dateFilterType:"Last Month",start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),r(null)}else if("lastTwoWeeks"===t){const e=new Date(l);e.setDate(l.getDate()-13),k((t=>({...t,dateFilterType:"Last 2 Week",start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),r(null)}else if("yesterday"===t){const e=new Date;e.setDate(e.getDate()-1),k((t=>({...t,dateFilterType:"Yesterday",start:e.toISOString().split("T")[0],end:a.toISOString().split("T")[0]}))),r(null)}else"custom"===t&&(d(!0),r(null))};function W(e,t){const l=e.target.value;"startDate"===t?(k((e=>({...e,start:l,dateFilterType:"custom"}))),x((e=>({...e,start:!1})))):(k((e=>({...e,end:l,dateFilterType:"custom"}))),x((e=>({...e,end:!1}))))}function G(){e(M.LG.setRegisterCandidateListFilter({...b,createdTime:S.start,endDate:S.end,dateFilterType:S.dateFilterType})),i(!1)}return(0,a.useEffect)((()=>{const e=["pages","size","endDate"];let l={...t},a={...f};e.forEach((e=>delete l[e])),e.forEach((e=>delete a[e])),JSON.stringify(l)!=JSON.stringify(a)?D(!0):D(!1)}),[t]),(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:"d-flex justify-content-end",children:(0,O.jsxs)("button",{className:"rounded-pill d-flex align-items-center ".concat(L.Z.Filterbutton),variant:"contained",onClick:()=>i(!0),children:[(0,O.jsx)(Z.Ol$,{}),(0,O.jsx)("p",{style:{backgroundColor:w?"red":"transparent",width:"8px",height:"8px",borderRadius:"50%"}}),"Filter"]})}),l&&(0,O.jsx)(T.Xf,{children:(0,O.jsx)(_.Z,{zIndex:1001,childComponent:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,O.jsx)("h4",{className:"text-center mb-2",children:"Filter by"}),(0,O.jsx)("h3",{children:(0,O.jsx)("span",{onClick:function(e){e.preventDefault(),G()},className:"btn btn-outline-danger",style:{cursor:"pointer",fontSize:15},children:(0,O.jsx)(F.oHP,{})})})]}),(0,O.jsx)("div",{className:"".concat(E.Z.BoxContainerWidth),children:(0,O.jsx)("form",{onSubmit:e=>{(e=>{e.preventDefault(),G()})(e)},children:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{className:"row",children:[(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(h.Z,{id:"outlined-basic",label:"Mobile number",variant:"outlined",fullWidth:!0,value:b.mobileNumber,defaultValue:t.mobileNumber,onChange:e=>{const t=e.target.value.replace(/\D/g,"").replace(/[eE]/g,"").slice(0,10);v((e=>({...e,mobileNumber:t})))},inputProps:{maxLength:10},InputProps:{startAdornment:(0,O.jsxs)("span",{style:{display:"flex",alignItems:"center"},children:[(0,O.jsx)(F.Nhm,{style:{marginRight:"5px"}})," ","+91"]})}})}),(0,O.jsxs)("div",{className:"col-md-3 mt-1 mt-sm-0",children:[(0,O.jsxs)(P.Z,{variant:"outlined",fullWidth:!0,children:[(0,O.jsx)(h.Z,{label:"Registered on",id:"basic-button",value:"".concat(S.dateFilterType),"aria-controls":u?"basic-menu":void 0,"aria-haspopup":"true","aria-expanded":u?"true":void 0,onClick:e=>{r(e.currentTarget)}}),(0,O.jsxs)(U.Z,{id:"basic-menu",anchorEl:o,open:u,onClose:()=>{r(null)},MenuListProps:{"aria-labelledby":"basic-button"},children:[(0,O.jsx)(R.Z,{onClick:()=>{A("today")},style:{width:"210px"},children:"Today"}),(0,O.jsx)(R.Z,{onClick:()=>{A("yesterday")},children:"Yesterday"}),(0,O.jsx)(R.Z,{onClick:()=>{A("lastWeek")},children:"Last 1 Week"}),(0,O.jsx)(R.Z,{onClick:()=>{A("lastTwoWeeks")},children:"Last 2 Week"}),(0,O.jsx)(R.Z,{onClick:()=>{A("lastMonth")},children:"Last Month"}),(0,O.jsx)(R.Z,{onClick:()=>{A("custom")},children:"Custom Date"})]})]}),c&&(0,O.jsx)(T.Xf,{children:(0,O.jsx)(_.Z,{zIndex:1005,childComponent:(0,O.jsx)("div",{style:{minWidth:"400px",width:"auto"},children:(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("div",{children:(0,O.jsxs)("form",{children:[(0,O.jsxs)("p",{className:"text-center ",children:["Select Custom Date"," "]}),(0,O.jsxs)("div",{className:"mt-2",children:[(0,O.jsx)("label",{htmlFor:"start",children:"From"}),(0,O.jsx)("input",{className:"form-control ".concat(m.start?"is-invalid":""),style:{width:"100%"},type:"date",id:"start",onChange:e=>W(e,"startDate"),name:"trip-start",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),m.start&&(0,O.jsx)("div",{className:"invalid-feedback",children:"Start date is required."})]}),(0,O.jsxs)("div",{className:"mt-2",children:[(0,O.jsx)("label",{htmlFor:"end",children:"To"}),(0,O.jsx)("input",{className:"form-control ".concat(m.end?"is-invalid":""),style:{width:"100%"},type:"date",id:"end",onChange:e=>W(e,"endDate"),name:"trip-end",min:"2020-01-01",max:(new Date).toISOString().split("T")[0]}),m.end&&(0,O.jsx)("div",{className:"invalid-feedback",children:"End date is required."})]}),(0,O.jsxs)("div",{className:"d-flex justify-content-end mt-3 ",children:[(0,O.jsx)("button",{onClick:()=>{x({start:!1,end:!1}),d(!1)},style:{backgroundColor:"#b2261c"},className:"btn rounded-pill text-white px-4  me-2",children:"Close"}),(0,O.jsx)("button",{onClick:e=>{e.preventDefault(),(()=>{const e=S.start&&S.end;return S.start||x((e=>({...e,start:!0}))),S.end||x((e=>({...e,end:!0}))),e})()&&(x({start:!1,end:!1}),d(!1))},className:"btn rounded-pill text-white px-4",style:{backgroundColor:"#169C50"},children:"Apply"})]})]})})})})})})]}),(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(j.Z,{limitTags:1,multiple:!0,id:"tags-outlined",onChange:(e,t)=>{(e=>{0==!e.length?e.forEach((t=>{v((l=>{let a=[...l.jobCategory];return a.includes(t)?a=e.filter((e=>"job category"===e.category)):a.push(t),{...l,jobCategory:a}}))})):v((e=>({...e,jobCategory:[]})))})(t)},options:(g.Jobrole||[]).map((e=>e)),getOptionLabel:e=>"".concat(e.options),value:b.jobCategory,defaultValue:I("jobCategory"),filterSelectedOptions:!0,renderInput:e=>(0,O.jsx)(h.Z,{...e,label:"Job category",placeholder:"Favorites"})})}),(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(j.Z,{limitTags:1,multiple:!0,id:"tags-outlined",options:(g.keySkills||[]).map((e=>e)),getOptionLabel:e=>"".concat(e.options),onChange:(e,t)=>{(e=>{0==!e.length?e.forEach((t=>{v((l=>{let a=[...l.skills];return a.includes(t)?a=e.filter((e=>"skills"===e.category)):a.push(t),{...l,skills:a}}))})):v((e=>({...e,skills:[]})))})(t)},value:b.skills,defaultValue:I("keySkills"),filterSelectedOptions:!0,renderInput:e=>(0,O.jsx)(h.Z,{...e,label:"key skill",placeholder:"Favorites"})})})]}),(0,O.jsxs)("div",{className:"row mt-3",children:[(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(j.Z,{limitTags:1,multiple:!0,id:"tags-outlined",options:(g.Qualification||[]).map((e=>e)),getOptionLabel:e=>"".concat(e.options),filterSelectedOptions:!0,onChange:(e,t)=>{(e=>{0==!e.length?e.forEach((t=>{v((l=>{let a=[...l.qualification];return a.includes(t)?a=e.filter((e=>"qualification"===e.category)):a.push(t),{...l,qualification:a}}))})):v((e=>({...e,qualification:[]})))})(t)},value:b.qualification,defaultValue:I("qualification"),renderInput:e=>(0,O.jsx)(h.Z,{...e,label:"Qualification",placeholder:"Qualification"})})}),(0,O.jsxs)("div",{className:"col-md-3 mt-1 mt-sm-0",children:[" ",(0,O.jsx)(j.Z,{limitTags:1,multiple:!0,id:"tags-outlined",options:g.specification,getOptionLabel:e=>e.courses,filterSelectedOptions:!0,onChange:(e,t)=>{console.log(t,"Valluee"),(e=>{if(0!==e.length){const t=e.map((e=>e.courses));v((e=>({...e,specification:t})))}else v((e=>({...e,specification:[]})))})(t)},value:b.specification.map((e=>({courses:e}))),defaultValue:I("specification"),renderInput:e=>(0,O.jsx)(h.Z,{...e,label:"Specialization",placeholder:"specialization"})})]}),(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(j.Z,{limitTags:1,multiple:!0,id:"tags-outlined",options:(g.prefLocation||[]).map((e=>e)),getOptionLabel:e=>"".concat(e.options),onChange:(e,t)=>{(e=>{0==!e.length?e.forEach((t=>{v((l=>{let a=[...l.prefLocation];return a.includes(t)?a=e.filter((e=>"city"===e.category)):a.push(t),{...l,prefLocation:a}}))})):v((e=>({...e,prefLocation:[]})))})(t)},value:b.prefLocation,defaultValue:I("prefLocation"),filterSelectedOptions:!0,renderInput:e=>(0,O.jsx)(h.Z,{...e,label:"City",placeholder:"Favorites"})})}),(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(h.Z,{onChange:e=>(e=>{const{value:t,name:l}=e.target;"eligiblity"===l&&v((e=>({...e,eligibility:t})))})(e),name:"eligiblity",id:"eligiblity",className:"form-control",select:!0,label:"Status",value:b.eligibility,children:[{value:"Qualified",label:"Qualified"},{value:"Not qualified",label:"Not qualified"}].map((e=>(0,O.jsx)(R.Z,{value:e.value,children:e.label},e.value)))})})]}),(0,O.jsxs)("div",{className:"row mt-3",children:[(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(h.Z,{onChange:e=>z(e),name:"experience",id:"experience",className:"form-control",select:!0,label:"Min Experience",value:b.experience,children:Q.map((e=>(0,O.jsx)(R.Z,{value:e.value,children:e.label},e.value)))})}),(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(h.Z,{onChange:e=>z(e),name:"maxExperience",id:"maxExperience",className:"form-control",select:!0,label:"Max Experience",value:b.maxExperience,children:Q.map((e=>(0,O.jsx)(R.Z,{value:e.value,children:e.label},e.value)))})}),(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:(0,O.jsx)(h.Z,{onChange:e=>(e=>{const{value:t,name:l}=e.target;"Gender"===l&&v((e=>({...e,gender:t})))})(e),name:"Gender",id:"Gender",className:"form-control",select:!0,label:"Gender",value:b.gender,children:[{value:"Male",label:"Male"},{value:"Female",label:"Female"},{value:"Both",label:"Both"}].map((e=>(0,O.jsx)(R.Z,{value:e.value,children:e.label},e.value)))})}),(0,O.jsx)("div",{className:"col-md-3 mt-1 mt-sm-0",children:n&&p&&(0,O.jsxs)(h.Z,{onChange:e=>(e=>{const{value:t,name:l}=e.target;console.log(t,l),v((e=>({...e,adminId:t})))})(e),name:"AssignedTo",id:"AssignedTo",className:"form-control",select:!0,label:"Assigned To",defaultValue:b.adminId,children:[(0,O.jsx)(R.Z,{value:-1,children:"ALL"}),n.map((e=>(0,O.jsx)(R.Z,{value:e.id,children:e.userName},e.id)))]})})]}),(0,O.jsxs)("div",{className:"row mt-3",children:[(0,O.jsx)("div",{className:"col-md-2",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{htmlFor:"",children:"Follow up Date 1"}),(0,O.jsx)(q(),{selected:b.followUpDate1,dateFormat:"dd/MM/yyyy",onChange:e=>{v((t=>({...t,followUpDate1:e}))),v((e=>({...e,followUpDate2:""})))},className:"form-control mt-1"})]})}),(0,O.jsxs)("div",{className:"col-md-1 text-center mt-4",children:[" ",(0,O.jsx)("b",{children:"OR"})]}),(0,O.jsx)("div",{className:"col-md-3",children:(0,O.jsxs)("div",{children:[(0,O.jsx)("label",{htmlFor:"",children:"Follow up Date 2"}),(0,O.jsx)(q(),{selected:b.followUpDate2,onChange:e=>{v((t=>({...t,followUpDate2:e}))),v((e=>({...e,followUpDate1:""})))},dateFormat:"dd/MM/yyyy",className:"form-control mt-1"})]})})]}),(0,O.jsxs)("div",{className:"d-flex flex-row gap-2 justify-content-end mt-4",children:[(0,O.jsx)("button",{className:"rounded-pill ".concat(L.Z.Filterbutton),variant:"outlined",type:"button",onClick:t=>{e(M.LG.setRegisterCandidateListFilter(f)),k({start:"2020-01-01",end:(0,T.BB)(new Date),dateFilterType:""}),v(f),D(!1)},children:"Clear All"}),(0,O.jsx)("button",{className:"rounded-pill ".concat(L.Z.search),type:"submit",variant:"contained",sx:{minWidth:"150px"},children:"Search"})]})]})})})]})})})]})};var z=l(4560),A=l(71652),W=l(23763),G=l(24750),B=l(25763),J=l(39126);const Y=(0,b.ZP)(g.Z)((e=>{let{theme:t}=e;return{["&.".concat(y.Z.head)]:{backgroundColor:"#d2d2d2",color:"#545454f0",padding:"8px","@media (max-width: 992px)":{}},["&.".concat(y.Z.body)]:{padding:"8px",fontSize:14,"@media (max-width: 992px)":{}}}}));const V=function(){const e=(0,N.v9)((e=>e.CandidateRegistered.filterData)),t=(0,N.v9)((e=>e.CandidateRegistered.RegisterCandidateList)),[l,g]=(0,a.useState)(),[y,b]=(0,a.useState)(!1),[D,F]=(0,a.useState)(!1),[Z,I]=(0,a.useState)({confirmtext:"",notes:"",isQualified:"",openPopup:!1,candidateId:""}),[R,P]=(0,a.useState)({totalPages:0,totalCount:0,currentPage:1}),[U,V]=(0,a.useState)({dateTime:!1,addNotes:!1,selectEvent:!1}),[X,H]=(0,a.useState)(10),[$,K]=(0,a.useState)(),[ee,te]=(0,a.useState)(""),[le,ae]=(0,a.useState)(""),[ie,ne]=(0,a.useState)([]),[se,oe]=(0,a.useState)(!1),[re,ce]=(0,a.useState)(!1),[de,ue]=(0,a.useState)(""),[me,he]=(0,a.useState)(""),[xe,pe]=(0,a.useState)(null),[fe,je]=(0,a.useState)(!1),[ge,ye]=(0,a.useState)(!1),be=(0,N.v9)((e=>e.adminDetails)),[ve,we]=(0,a.useState)(!1),[Ce,Ne]=(0,a.useState)({tentativeInterviewDate:null,followUpDate1:null}),[De,Se]=(0,a.useState)({isFollowDate1:!0,isFollowDate2:!0});let ke=1==be.roleID;const[Fe,Ze]=(0,a.useState)([]),[Te,_e]=(0,a.useState)([]),[Le,Ie]=(0,a.useState)([]),[qe,Ee]=(0,a.useState)(""),[Me,Re]=(0,a.useState)(!1),Pe=()=>{je(!1),V((e=>({...e,dateTime:!1,addNotes:!1,selectEvent:!1}))),pe(""),te(""),ae(""),(0,C.rJ)(e).then((e=>{console.log(e,"meta data"),Ue(M.LG.setRegisterCandidateList(e)),P((t=>({...t,totalPages:Math.ceil((e.length>0?e[0].total_count:10)/X)})))}))};(0,a.useEffect)((()=>{!async function(){try{const e=await(0,C.CG0)();ne(e)}catch(e){console.error("Error fetching follow-up events:",e)}}()}),[]),(0,a.useEffect)((()=>{(0,C.EPx)().then((e=>{console.log(e,"All admin details");const t=e.map((e=>e.userName)),l=e.map((e=>e.id));Ze(t),_e(l)}));let e=ke?-1:localStorage.getItem("adminID");Ue(M.LG.setRegisterCandidateListFilterAdminId(e))}),[be]),(0,a.useEffect)((()=>{console.log(t,"candidateListedjobs")}),[t]),(0,a.useEffect)((()=>{!async function(){const e=await(0,C.y22)();Ie(e)}()}),[]);const Ue=(0,N.I0)();(0,a.useEffect)((()=>{ye(!0),(0,C.rJ)(e).then((e=>{e?(Ue(M.LG.setRegisterCandidateList(e)),e[0]&&void 0!==e[0].total_count?(K(e[0].total_count),P((t=>({...t,totalPages:Math.ceil((e.length>0?e[0].total_count:10)/X)})))):(K(0),P((e=>({...e,totalPages:0}))),Ue(M.LG.setRegisterCandidateList([])))):console.error("Data received from postCandidate is undefined or null.")})).catch((e=>{alert("Something went wrong"+e)})).finally((()=>{ye(!1)}))}),[e]);const Oe={qualified:(0,a.useRef)(),notQualified:(0,a.useRef)(),followup:(0,a.useRef)()},Qe=e=>{const t=Oe[e];t.current&&t.current.click()};function ze(e){let t,a="";"qualify"==e?(a="Are you sure you want to qualify ".concat(l.first_name," "),t=!0):(a="Are you sure you want to not qualify ".concat(l.first_name," "),t=!1),I((e=>({...e,openPopup:!0,isQualified:t,notes:"",confirmtext:a,candidateId:l.candidate_id})))}function Ae(){(0,C.PUy)(Z).then((()=>{const e=t.map((e=>e.candidate_id===l.candidate_id?{...e,qualified:Z.isQualified?1:0,not_qualified:Z.isQualified?0:1}:e));Ue(M.LG.setRegisterCandidateList(e)),b(!1),F(!1),I((e=>({...e,openPopup:!1})))})).catch((e=>{console.log(e)}))}const We=(e,t)=>{Ne((l=>({...l,[t]:e}))),"tentativeInterviewDate"===t?(Ce.followUpDate1&&e&&Ce.followUpDate1<e&&(Ne((e=>({...e,followUpDate1:null}))),Se((e=>({...e,isFollowDate2:!1})))),Se((t=>({...t,isFollowDate1:!!e})))):"followUpDate1"===t&&Se((t=>({...t,isFollowDate2:!!e})))},Ge=Math.ceil((Ce.tentativeInterviewDate-new Date)/864e5);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{children:[(0,O.jsxs)("div",{className:"".concat(k.Z.Topcontainer),children:[" ",(0,O.jsxs)("div",{className:"d-flex ",children:["Show ","  ",(0,O.jsxs)("select",{name:"",id:"",className:"px-1 py-1 mx-2",onChange:e=>function(e){H(e),Ue(M.LG.setRegisterCandidateListFiltersize(e))}(e.target.value),children:[(0,O.jsx)("option",{selected:!0,value:"10",children:"10"}),(0,O.jsx)("option",{value:"20",children:"20"}),(0,O.jsx)("option",{value:"30",children:"30"})]}),"   ","Entries"]}),(0,O.jsxs)("div",{className:"".concat(k.Z.filterAdduser),children:[(0,O.jsxs)("div",{className:"mt-1 me-2",children:["Total Count : ",$]}),(0,O.jsx)("div",{className:"p-1 success  me-2 mx-2 ms-auto",children:(0,O.jsx)(w.t11,{onClick:()=>{ye(!0),Ue(M.LG.setRegisterCandidateList({gender:null,mobileNumber:-1,assignTo:null,status:null,industry:null,jobCategory:null,qualification:null,candidateType:null,skills:null,prefLocation:null,eligibility:null,passed_out_year:-1,specification:null,maxExperience:-1,experience:-1,endDate:null,createdTime:null,page:1,size:10})),(0,C.rJ)(e).then((e=>{Ue(M.LG.setRegisterCandidateList(e)),P((t=>({...t,totalPages:Math.ceil((e.length>0?e[0].total_count:10)/X)})))})).finally((()=>{ye(!1)}))}})}),(0,O.jsx)(Q,{})]})]}),(0,O.jsxs)("div",{className:"",style:{maxWidth:"100vw",overflowX:"auto"},children:[(0,O.jsx)(i.Z,{style:{height:"64vh",overflowY:"auto"},children:(0,O.jsxs)(n.Z,{stickyHeader:!0,"aria-label":"sticky table",className:"",children:[(0,O.jsx)(s.Z,{children:(0,O.jsxs)(o.Z,{children:[(0,O.jsx)(Y,{children:"Name"}),(0,O.jsx)(Y,{children:"Mobile Number"}),(0,O.jsx)(Y,{children:"Job Category"}),(0,O.jsx)(Y,{children:"Experience"}),(0,O.jsx)(Y,{children:"Qualification"}),(0,O.jsx)(Y,{children:"Preferred City"}),ke&&(0,O.jsx)(Y,{children:"Assigned To"}),(0,O.jsx)(Y,{children:"Registered on"}),(0,O.jsx)(Y,{children:"Status"})]})}),(0,O.jsxs)(r.Z,{children:[t.length>0&&t.map(((e,t)=>(0,O.jsxs)(o.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},onClick:()=>{!function(e){g(e)}(e)},children:[(0,O.jsx)(Y,{children:(0,O.jsx)("span",{onClick:()=>{(async(e,t)=>{let l;"RegisterCandidate"===t?l=await(0,C.LSy)(e):"CandidateLead"===t&&(l=await(0,C.tpq)(e)),Ue(M.MT.setShowPopup({name:"candidateDetails",id:e,type:t,data:l}))})(e.candidate_id,"RegisterCandidate")},style:{cursor:"pointer"},className:"text-primary ",title:e.first_name,children:e.first_name?(0,T.Th)((0,T.Ls)(e.first_name),15)+" "+(e.last_name?(0,T.Th)((0,T.Ls)(e.last_name),15)+"":""):"-"})}),(0,O.jsx)(Y,{children:e.mobile_number})," ",(0,O.jsxs)(Y,{title:e.job_category,children:[e.job_category&&(0,T.Th)(e.job_category,20),!e.job_category&&(0,O.jsx)(O.Fragment,{children:"-"})]})," ",(0,O.jsxs)(Y,{children:[e.exp_in_years," Year(s)"]})," ",(0,O.jsx)(Y,{title:e.qualification,children:(0,T.Th)(e.qualification,20)})," ",(0,O.jsxs)(Y,{title:e.pref_location,children:[e.pref_location&&(0,T.Th)(e.pref_location,20),!e.pref_location&&(0,O.jsx)(O.Fragment,{children:"-"})]})," ",ke&&(0,O.jsx)(Y,{align:"left",children:(0,O.jsx)(O.Fragment,{children:Fe[Te.indexOf(e.assign_to)]})}),(0,O.jsx)(Y,{children:(0,O.jsx)(T.Ir,{dateValue:e.created_time})})," ",(0,O.jsx)(Y,{children:(0,O.jsxs)("div",{className:"".concat(E.Z.Status),children:[(0,O.jsxs)("div",{children:[1===e.qualified&&(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("div",{className:"".concat(E.Z.qualified),children:"Qualified"})}),1===e.not_qualified&&(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("div",{className:"".concat(E.Z.Notqualified),children:"Not Qualified"})}),1===e.is_daily_task&&(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("div",{className:"".concat(E.Z.Followup),children:"Follow Up"})})]}),(0,O.jsxs)("div",{className:"btn-group dropstart",children:[(0,O.jsx)("button",{type:"button","data-bs-toggle":"dropdown","data-bs-no-caret":"true","aria-expanded":"false",style:{border:"none",background:"none",color:"#000",cursor:"pointer",outline:"none",position:"relative",right:"5px",fontSize:20,zIndex:1},children:(0,O.jsxs)("span",{className:"",children:[" ",(0,O.jsx)(J.FQA,{})," "]})})," ",(0,O.jsxs)("ul",{className:"dropdown-menu",style:{textAlign:"left"},children:[(0,O.jsx)("li",{onClick:()=>{ze("qualify")},children:(0,O.jsx)("a",{className:"dropdown-item",href:"#",children:(0,O.jsxs)("div",{className:"".concat(L.Z.select_wrp),onClick:()=>{Qe("qualified"),F(!0)},children:[(0,O.jsx)("input",{type:"radio",name:"status_".concat(e.user_id),checked:e.qualified,id:"qualified_".concat(e.user_id)}),(0,O.jsxs)("label",{htmlFor:"qualified_".concat(e.user_id),children:[" ",(0,O.jsx)(B.Zh5,{style:{color:"#169C50",fontSize:20}}),"Qualified"]})]})})}),(0,O.jsx)("li",{onClick:()=>{ze("notQualify")},children:(0,O.jsx)("a",{className:"dropdown-item",href:"#",onClick:()=>{Qe("notQualified"),b(!0)},children:(0,O.jsxs)("div",{className:"".concat(L.Z.select_wrp),children:[(0,O.jsx)("input",{type:"radio",checked:e.notQualified,name:"status_".concat(e.user_id),id:"notQualified_".concat(e.user_id)}),(0,O.jsxs)("label",{htmlFor:"notQualified_".concat(e.user_id),children:[(0,O.jsx)(B.Zh5,{style:{color:"#b2261c",fontSize:20}})," ","Not Qualified"]})]})})}),(0,O.jsx)("li",{onClick:()=>{je(!0)},children:(0,O.jsx)("a",{className:"dropdown-item",href:"#",onClick:()=>Qe("followup"),children:(0,O.jsxs)("div",{className:"".concat(L.Z.select_wrp),children:[(0,O.jsx)("input",{type:"radio",checked:e.followup,name:"status_".concat(e.user_id),id:"followup_".concat(e.user_id)}),(0,O.jsxs)("label",{htmlFor:"followup_".concat(e.user_id),children:[(0,O.jsx)(B.Zh5,{style:{color:"#430CBA",fontSize:20}})," ","Follow up"]})]})})})]})]})]})})]},t))),(0,O.jsx)("div",{children:!t.length>0&&(0,O.jsx)(O.Fragment,{children:(0,O.jsx)("div",{className:"m-3 text-danger",children:"Not Found"})})})]})]})}),(0,O.jsx)(O.Fragment,{children:(0,O.jsx)(c.Z,{sx:{color:"#fff",zIndex:e=>e.zIndex.drawer+1},open:ge,onClick:()=>{},children:(0,O.jsx)(d.Z,{color:"inherit"})})}),(0,O.jsx)("div",{className:"d-flex justify-content-center mt-2",children:(0,O.jsx)(u.Z,{spacing:2,children:(0,O.jsx)(m.Z,{shape:"rounded",siblingCount:1,boundaryCount:1,count:R.totalPages,variant:"outlined",color:"success",onChange:function(e,t){const l=t;Ue(M.LG.setRegisterCandidateListFilterPage(l))}})})})]})]}),D&&(0,O.jsx)(T.Xf,{children:(0,O.jsx)(_.Z,{zIndex:2e3,childComponent:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:"text-center mb-3",children:"Qualify Candidate"}),(0,O.jsx)(h.Z,{id:"outlined-multiline-flexible",label:"Add Notes",multiline:!0,required:!0,onChange:e=>{I((t=>({...t,notes:e.target.value})))},maxRows:4,fullWidth:!0})]}),(0,O.jsxs)("div",{className:"d-flex justify-content-end gap-1 mt-4",children:[(0,O.jsx)("button",{className:"btn text-white me-3",onClick:()=>{F(!1)},style:{backgroundColor:"#d00a0a"},children:"Cancel"}),(0,O.jsx)("button",{type:"submit",className:"btn text-white",onClick:Ae,style:{backgroundColor:"#169C50"},children:"Qualify"})]})]})})}),y&&(0,O.jsx)(T.Xf,{children:(0,O.jsx)(_.Z,{zIndex:2e3,childComponent:(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)("div",{children:[(0,O.jsx)("div",{className:"text-center mb-3",children:"Disqualify Candidate"}),(0,O.jsx)(h.Z,{id:"outlined-multiline-flexible",label:"Add Notes",multiline:!0,required:!0,onChange:e=>{I((t=>({...t,notes:e.target.value})))},maxRows:4,fullWidth:!0})]}),(0,O.jsxs)("div",{className:"d-flex justify-content-end gap-1 mt-4",children:[(0,O.jsx)("button",{className:"btn text-white me-3",onClick:()=>{b(!1)},style:{backgroundColor:"#d00a0a"},children:"Cancel"}),(0,O.jsx)("button",{type:"submit",className:"btn text-white",onClick:Ae,style:{backgroundColor:"#169C50"},children:"Disqualify"})]})]})})}),fe&&(0,O.jsx)(T.Xf,{children:(0,O.jsx)(_.Z,{zIndex:1001,childComponent:(0,O.jsxs)("div",{style:{width:"350px",position:"relative"},children:[(0,O.jsxs)(x.Z,{fullWidth:!0,error:U.dateTime,style:{marginBottom:"16px"},children:[" ",(0,O.jsx)(A._,{dateAdapter:G.y,children:(0,O.jsxs)(z.C,{components:["DateTimePicker","TextField"],children:[(0,O.jsx)(W.x,{label:"select date and time",error:Boolean(de),onChange:e=>{he(e),V((e=>({...e,dateTime:!1})));const t=S()(e).format("YYYY-MM-DD hh:mm A");pe(t)}}),U.dateTime&&(0,O.jsx)("span",{style:{color:"#d44349"},children:"Please select a date and time"})]})})]}),(0,O.jsx)(h.Z,{style:{marginBottom:"16px"},id:"outlined-multiline-flexible",label:"Add Notes",multiline:!0,onChange:e=>{te(e.target.value),V((e=>({...e,addNotes:!1})))},maxRows:4,fullWidth:!0,error:U.addNotes}),U.addNotes&&(0,O.jsx)("span",{style:{color:"#d44349"},children:"Notes cannot be empty"}),(0,O.jsxs)(p.Z,{display:"flex",justifyContent:"flex-end",children:[(0,O.jsx)(f.Z,{variant:"outlined",color:"secondary",style:{color:"red",borderColor:"red",marginRight:"8px"},onClick:Pe,children:"Cancel"}),(0,O.jsx)(f.Z,{variant:"outlined",color:"primary",style:{color:"green",borderColor:"green"},onClick:async()=>{if(xe)if(""!==ee.trim())try{const e=S()(me),t=e.format("YYYY-MM-DD"),a=e.format("hh:mm A");console.log("Formatted Date:",t),console.log("Follow-Up Time:",a),await(0,C.SXT)(null,null,l.candidate_id,t,a,ee,"Candidate"),pe(""),ae(""),te(""),oe(!0),setTimeout((()=>{oe(!1),b(!1)}),3e3),Pe()}catch(e){console.error("There was a problem with the API call:",e)}else V((e=>({...e,addNotes:!0})));else V((e=>({...e,dateTime:!0})))},children:"Submit"})]})]})})}),ve&&(0,O.jsx)(T.Xf,{children:(0,O.jsx)(_.Z,{zIndex:"1500",childComponent:(0,O.jsx)(O.Fragment,{children:(0,O.jsxs)("div",{style:{width:"350px"},children:[" ",(0,O.jsx)("p",{className:"text-center",children:(0,O.jsx)("b",{children:"Candidate Interview Date"})}),(0,O.jsxs)("form",{action:"#",onSubmit:t=>{t.preventDefault(),Ce.tentativeInterviewDate?Ge>=4&&!Ce.followUpDate1?Se((e=>({...e,isFollowDate2:!1}))):qe?(0,C._Wb)(l.candidate_id,Ce,qe,!1).then((t=>{oe(!0),console.log(t,"interviewFollowDate"),setTimeout((()=>{oe(!1),we(!1),Ne((e=>({...e,tentativeInterviewDate:null,followUpDate1:null}))),Ee((e=>({...e,selectedCompany:""}))),Ee("")}),1e3),(0,C.rJ)(e).then((e=>{e?(Ue(M.LG.setRegisterCandidateList(e)),e[0]&&void 0!==e[0].total_count?(K(e[0].total_count),P((t=>({...t,totalPages:Math.ceil((e.length>0?e[0].total_count:10)/X)})))):(K(0),P((e=>({...e,totalPages:0}))),Ue(M.LG.setRegisterCandidateList([])))):console.error("Data received from postCandidate is undefined or null.")})).catch((e=>{alert("Something went wrong"+e)})).finally((()=>{ye(!1)}))})).catch((e=>{console.error("Error submitting interview follow-up:",e)})):Re(!0):Se((e=>({...e,isFollowDate1:!1})))},children:[(0,O.jsx)("div",{className:"row mt-2",children:(0,O.jsxs)("div",{className:"col-sm-12 d-flex gap-3 align-item-center",children:[(0,O.jsx)("label",{htmlFor:"currentpositionDropdown",className:"form-label",children:(0,O.jsx)("strong",{children:"Interview Date : "})}),(0,O.jsxs)("div",{children:[(0,O.jsx)(q(),{selected:Ce.tentativeInterviewDate,onChange:e=>We(e,"tentativeInterviewDate"),minDate:new Date,dateFormat:"dd/MM/yyyy",className:"form-control"}),De.isFollowDate1?null:(0,O.jsx)("div",{className:"",style:{color:"red"},children:"Please select a date."})]})]})}),(0,O.jsx)("div",{className:"row",children:Ge>=4&&(0,O.jsxs)("div",{className:"col-sm-12 mt-2 d-flex gap-3 align-item-center",children:[(0,O.jsx)("label",{htmlFor:"currentpositionDropdown",className:"form-label",children:(0,O.jsx)("strong",{children:"Follow up Date :"})}),(0,O.jsxs)("div",{children:[(0,O.jsx)(q(),{selected:Ce.followUpDate1,onChange:e=>We(e,"followUpDate1"),minDate:new Date,maxDate:new Date(Ce.tentativeInterviewDate.getTime()-1728e5),dateFormat:"dd/MM/yyyy",className:"form-control"}),De.isFollowDate2?null:(0,O.jsx)("div",{className:"",style:{color:"red"},children:"Please select a date."})]})]})}),(0,O.jsx)("div",{className:"row",children:(0,O.jsxs)("div",{className:"col-sm-12 mt-2 d-flex gap-3 align-item-center",children:[(0,O.jsx)("label",{htmlFor:"currentpositionDropdown",className:"form-label",children:(0,O.jsx)("strong",{children:"Company Name:"})}),(0,O.jsx)("div",{className:"w-100",children:(0,O.jsx)(j.Z,{disablePortal:!0,id:"combo-box-demo",options:Le,value:qe,onChange:(e,t)=>{Ee(t),Re(!1)},renderInput:e=>(0,O.jsx)(h.Z,{...e,label:"Company Name",fullWidth:!0,error:Me,helperText:Me?"Please select a company name":""})})})]})}),(0,O.jsxs)("div",{className:"d-flex justify-content-end gap-2 mt-3 ",children:[(0,O.jsx)("div",{className:"btn btn-danger px-4",onClick:function(){we(!1),Ne((e=>({...e,tentativeInterviewDate:"",followUpDate1:""}))),Ee(""),Se((e=>({...e,isFollowDate1:!0,isFollowDate2:!0})))},children:"Close"}),(0,O.jsx)("button",{className:"btn btn-success px-4",type:"submit",children:"Submit"})]})]})]})})})}),se&&(0,O.jsx)(T.Xf,{children:(0,O.jsx)(_.Z,{zIndex:"5000",childComponent:(0,O.jsx)(v.Z,{HeadText:"Successfully Updated"})})})]})}}}]);
//# sourceMappingURL=741.49044155.chunk.js.map